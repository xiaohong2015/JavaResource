作者：jeru
日期：2000-12-20 11:29:21
安装之后，接下来我们要讨论JSP的语法.如果要偷懒，你可以下载语法卡而如果你不熟悉 Java的程序设计，你可能会想要参考Sun的使用手册；然而，网站建立者不应该做太多的Java发展。除了几个函式呼叫之外，出现在你JSP网页上的Java程序代码应该将它减到最少; 
　　记住这点之后，现在让我们先来看看JSP的编译器指引与指令组件，之后我们将解释JavaBeans与内部对象. JSP编译器指引与指令组件有五种型态.JSP 1.0之后，大部分的JSP是包含在以<% 作为开始%>作为结束的单一卷标里.新的 JSP 1.1规格已经发表了，它同时也与XML兼容. 


JSP的编译器指引与指令组件 


　　编译器指示　　　　　　　<%@ 编译器指示 %> 

　　声明　　　　　　　　　　<%! 声明 %> 

　　表达式 　　　　　　　　<%= 表达式 %> 

　　程序代码段/小型指令　　　<% 程序代码片段 %> 

　　注释　　　　　　　　　　<%-- 注释 --%> 


　　编译器指示 


　　JSP的编译器指示是针对JSP引擎。它们并不会直接产生任何看得见的输出；相反的，它们是在告诉引擎如何处理其它的JSP网页。它们永远包含在 <%@ ?%>卷标里。两个主要的指引是 page与include。我们不会讨论taglib编译器指引但它可以在JSP1.1里用来建立自订卷标。 

　　你几乎可以在你所有的JSP网页最上面找到page编译器指示。虽然这不是必须的，但它可以让你指定到哪里可以找到支持的Java类别这类的事： 

　　<%@ page import="java.util.Date" %>，　 

　　当发生Java问题的事件时应该将讯息传送到哪里： 

　　<%@ page errorPage="errorPage.jsp" %>，　 

　　以及你是?需要为使用者管理通话期的信息，可能存取多个网页(稍后在JavaBeans里会有更多通话期的讨论): 

　　<%@ page session="true" %>。　 

　include编译器指示让你将你的内容分成几个可管理的组件，就像那些有表头或脚注的网页。所包含的网页可以是固定格式的HTML网页或者是JSP内容的网页: 

　　<%@ include file="filename.jsp" %>。 


　　宣告 


　　JSP声明让你定义网页层的变量，来储存信息或定义支持的函式，让JSP网页的其余部分能够使用。如果你发现自己有太多的程序代码，你最好将它们放在不同的Java类别里。你可以在 <%! ?%>卷标里找到声明。记住要在变量声明的后面加上分号，就跟任何有效的Java叙述的形式一样: <%! int i=0; %>。 


　　表达式 


　　JSP里有表达式，评估表达式的结果可以转换成字符串并且直接使用在输出网页上。JSP运算是属于 <%= ?%> 卷标里，并不包含分号，加引号字符串的无用部分。 

　　<%= i %> 

　　<%= "Hello" %> 。 


　　程序代码段/小型指令文件 


　　JSP程序代码片段或小型指令文件是包含在<% ?%> 卷标里。当网络服务器接受这段请求时，这段Java程序代码会执行。小型指令文件可以是原始的HTML或XML，其内部的程序代码片段可以让你建立有条件的执行程序代码，或者只是一些使用另一块程序代码的东西。举例来说，下列的程序代码结合了表达式与小型指令文件，在H1，H2，H3，以及H4卷标里显示字符串"Hello"。小型指令文件不限于一行的原始程序代码 : 

　　<% for (int i=1; i<=4; i++) { %> 

　　<H<%=i%>>Hello</H<%=i%>> 

　　<% } %>。 


　　注释 


　　最后一个主要JSP组件是嵌入式注释。虽然你可以在你的档案里包含HTML注释，如果使用者检视网页的原始码，他们也会看到这些注释。如果你不要让使用者看到你的批注，你可以将它放在<%-- ?--%>卷标里: 

　　<%-- 针对服务器端的注释 --%>。 
