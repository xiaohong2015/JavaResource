作者：jeru
email: jeru@163.net
日期：2001-7-13 16:56:11
易物件存取f定
Simple Object Access Protocol (SOAP)  
 
作者: a逸Y 胡百敬
 
什N是易物件存取f定(SOAP)，而言之就是利用F存的WHW路架用程式之g可以彼此贤ǎ而不被防火阻K。在分散式的架下，使用 XML 的h境中，SOAP提供X系y之g交Q的架cY料型e。 
在^去五年硗高^WHW路存取已成是^M步社的基A需求。在其上绦兄各式各拥耐ㄓf定。但是直至目前橹棺V泛被接受的通f定依然是Hypertext Transfer Protocol(HTTP)，它是g[器cWeb伺服器之g贤r使用，於文字、D形以及其他Y的鬏很有效率c性，而且它我锥。  
你我所撰的用程式利用WHW路在h端互右呀得越碓街匾。F今在WHW路上提供eService已是大菟。e例子碚f，你可能在某一家W路公司所提供的行事焉显]裕快f公司要送品o你r，它的系y自优c提供行事训木W路公司合作，查你的在家的rg，自优哦ㄋ拓的行程。或著是你想一入TW站，但X得某W站所提供的交通Y或是天忸A笙到y很好，你想直接你的使用者透^系y之g的合作，可以在你的W站上查e的W站上@些Y料。而那些提供服盏木W站也可以查的次迪蚰闶召M。  
以上@些幼鞫夹枰系y自油瓿珊献鳎不再有人工⑴c。且彼此的系y是各自以他所熟悉的技g完成，@代表著系y不遵循特殊的架。有可能我的系y是Win32，使用的是COM+r而你的是UNIX作I系y，利用CORBA提供服铡  
系y透^WHW路贤ǎHH用HTTP通f定本身提供的功能是不虻模m然HTTP本身的性很大，但它基本的OK不m合呼叫h端的程式物件。@N互釉^域W路纫话闶鞘褂Remote Procedure Call(RPC)，也就是使用者端鞒鲆恍担K由伺服端回饕恍┙Y果。  
F今已有S多分散式物件通f定(distributed object protocols) 提供h端程式g的贤ā＠如微的Distribured Component Object Model(DCOM)、Object Management Group的Internet Inter-ORB Protocol(IIOP)等等。所有@些服斩继峁┫嗤的服眨也就是使用者端可以|lRPC到伺服端用程式，K接到回鹘Y果。 在企I炔烤W路(Intranet)上使用分散式物件鬏f定有很好的效果。但在公的WHW路上使用@些f定就有很多}。任何B上WHW路的伺服器基本上都可以被任何WHW路的使用者存取，@е滦枰^乐的安全考量。榱税踩，大部分的企I都在它炔颗c外部W路之g加b防火以防止WHW路上的大存取企I炔康乃欧器。@些防火，例如微的Proxy伺服器，可以由l件O定以阻止一些想M企I炔淼墓W路需求，@可以大幅提N炔肯到y的安全。 
m然防火是提供接上WHW路安全的基AC制，但它s降低分散式物件通f定的使用效能。榱艘解Q@}，有R之士提出了各自的解Q方案。在 1998 年，UserLand 公司的绦锌裁 Dave Winner 提出透^ XML  RPC 的通方式透^ HTTP f定在WHW路上绦小  
@想法由微公司加以改良，提出了H可行的Simple Object Access Protocol(SOAP)通f定。F今正在W3Ch中，已有IBM等大S表B支持。不久的未砑⒖赡艹樵诰WHW路上提供子服盏f定。  
SOAP是一像DCOM或其他分散式物件通f定的f定，使用者端c伺服端的RPCs可以贤ā５c其他似f定不一拥牡胤绞牵它支援防火的使用。同又匾地，SOAP不是只O用磲δ撤N物件技g的f定，它不像一些r下的分散式物件通f定被死在某一N特定的物件格上，@f定⒖梢员蝗魏蔚奈锛使用。所以它⑹纱笪锛ICOM 和 CORBA 最好的贤牛彼此的物件程式可以跨平台透^WHW路呼叫。  
易物件存取f定如其名Q所言，要求定x要"易"，所以它只出物件贤基A，如 
物件透^WHW路提出需求的方式驶，以 HTTP 鬏的方式，以 XML 描述贤ǖ热 
建立可延伸的鬟f物件呼叫格式的承d 但它不定x一些一般分散式物件系y需要定x的 
分散式系yY源回收(garbage collection) 
p向的 HTTP 贤 
物件⒄ 
物件初始化 
以上@些不明_定x的格都交由各系yS商自行作。
 

使用防火所造成的}以及 SOAP 所提供的解Q方案
 
要了解楹畏阑造成分散式物件通f定的}必先了解到防火是如何分辨f定之g的不同。在TCP/IP的架下，每一被V泛使用的f定都被x予一特殊的埠(port number)而每一使用f定的需求封包都е@埠。例如HTTPf定的埠是80、FTP是21等等。大部分的防火可以用矸乐鼓特殊f定的方式就是Σ禾拒^某Nf定的通。通常防火是被O定成允S埠80的\作的-如果公司不拒^使用HTTP的。 
但大部分的防火踝∑渌的埠，因樗假定利用其他的埠公司炔烤W路的\作都是有危U的。 但@也正是造成分散式物件通f定o法\行的原因。不像HTTP、FTP等其他著名的通f定，分散式物件通f定通常]有使用一著名的大家都知道的埠贤āＯ喾吹兀@些通f定通常B地被x予埠，埠a在被需求r任意a生。如果]有防火踉谑褂谜叨伺c伺服端之g，@N方式⒖梢院苡行У剡\作。但若加了防火，t通f定因榉阑不允S啥巳我馐褂萌魏尾禾贤ǘ中唷  
下存在很多N解Q方式，例如某些防火可以被O定成允S某的埠a可以M行贤āＨ粼分散式物件通f定也可以被O定成只用@的埠a，t@方案便可行，使用者端c伺服端之g可以M行贤ā５比^注重安全的W路管理者⒉成_放任意一M埠a而е逻@方案K不完美。另一x袷裼COMWHW路服眨@鹘y的DCOM封包在TCP上透^埠80鬟f。@在某些方面很有用，但@技g只有微的Internet Information Server和DCOM在使用，而不是一完整的解Q方案，所以我需要一更普遍一般性的解Q方案。  
因缀跛有的防火都允S透^埠80贤ǎ所以透^埠80贤ǖ姆稚⑹轿锛通f定⑹且^好的方案。但@K不是ff那N容易，因椴禾80已被O定oHTTPf定。所以SOAP@分散式物件通f定是架在HTTPf定之上的。HTTP通f定相危HH以少祷A的釉~所M成，如GET、PUT、POST等等，而@些釉~在g[器c伺服器之g鬟f。而每一釉~之後跟著一些Y，而@些Y通常以易的字串方式鬟f。  
SOAP不能改任何的F睿也不能要求增加HTTPF有的釉~。替代方案是SOAP⑹褂Extensible Markup Language(XML)矶x需求c回息的格式，K允S使用正常的HTTP POST命令鬟f@些息。所有的SOAP通都使用80埠，@也代表著在WHW路上SOAP可以透^任何的Web伺服器贤-防火⒉辉偈且}。 SOAP主要的O目的之一就是保C它可以有效地使用既有的WHW路架-也就是HTTP、防火、代理伺服器(proxy)以及其他NN。例如SOAP可以使用Secure Sockets Layer(SSL)通f定以加密So安全，使用到HTTP的B管以C制，等等更多更多的部分。SOAP分散式物件通f定透^WHW路的贤ㄏ袷褂g[器泶嫒【W一臃奖恪  
在F今@世界上已有S多的S多分散是物件通f定，但]有一可以不被改就用在F今的WHW路上。藉由提供一架在HTTP之上，巍⑶矣性的C制魉托枨笈c回，SOAP下|lh端函挡恍枰有任何改。用程式可以透^WHW路存取不是一件小事。且它K未被死在任何一我坏奈锛模型，@新的技g碛锌梢杂迷谠S多不同情r的力。基於以上的述，SOAP於今日的通f定是一值得增加的投Y。 
 
 
